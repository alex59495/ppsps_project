<div class='col-md-6 offset-md-3'>
  <div class="mb-3">
    <%= link_to "Revenir au profil", profile_path(@user), class: 'link' %>
  </div>
  <h2>Mes informations</h2>
  <%= simple_form_for @user, url: profile_path(@user), html: { method: :put } do |f| %>
    <%= f.input :first_name, label: "Prénom" %>
    <%= f.input :last_name, label: "Nom de famille" %>
    <%= f.input :email, label: "Email" %>
    <%= f.submit "Valider mes modifications", class: 'btn-blue' %>
  <% end %>
</div>
<script>
  const loadLogo = (event) => {
    const image = document.getElementById('newLogo');
    const arrow = document.querySelector('.fa-long-arrow-alt-right');
    const btnCancelUpload = document.getElementById('removeUpload');
    const btnDeleteLogo = document.getElementById('removeLogo');
    // Si il exite un fichier à uploader
    if(event.target.files[0]) {
      arrow.style.display = 'block';
      btnCancelUpload.style.display = 'block'
      // Si l'entreprise n'a pas encore de logo le bouton n'existe pas
      if(btnDeleteLogo) {
        btnDeleteLogo.style.display = 'none'
      }
      btnCancelUpload.addEventListener('click', (e) => {
        // Si il exite un fichier à uploader
        event.target.value = null
        btnCancelUpload.style.display = 'none'
        loadLogo(event)
      })
      image.style.display = 'block';
      return image.src = URL.createObjectURL(event.target.files[0]);
    } {
      arrow.style.display = 'none';
      image.style.display = 'none';
      // Si l'entreprise n'a pas encore de logo le bouton n'existe pas
      if(btnDeleteLogo) {
        btnDeleteLogo.style.display = 'block'
      }
    }
  };
</script>